(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{108:function(e,t,s){},117:function(e,t,s){},118:function(e,t,s){},120:function(e,t,s){},122:function(e,t,s){},123:function(e,t,s){},124:function(e,t,s){},125:function(e,t,s){},126:function(e,t,s){},127:function(e,t,s){},129:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s(1),r=s.n(n),o=s(19),c=s.n(o),i=(s(82),s(17)),l=(s(83),s(24)),d=s(13),u=s(14),p=s(16),b=s(15),h=s(135),j=s(136),m=s(137),f=s(139),O=s(11),x=(s(55),s(4)),g=s.n(x),k=s(6),v="SET_USER",y="SET_IMAGE_LINK",w="SET_SOCKET_ID",S="INCREASE_LIKE",N="TOGGLE_ISUSERFETCHING_STATE",I="LOGOUT_USER",C="SET_USER_RESPONSE",E="TOGGLE_IS_RES_FETCHING",A="SET_TOKEN",_="SET_USER_DETAIL",T="TOGGLE_IS_DP_RES_FETCHING",D="TOGGLE_IS_UPDATE_RES_FETCHING",R="SET_DP_RESPONSE",P="SET_UPDATE_RESPONSE",L="SET_POSTS",B="TOGGLE_POST_FETCHING_STATE",F="TOGGLE_COMMENT_FETCHING_STATE",z="SET_ISLIKED",U="SET_COMMENTS",V="ADD_COMMENT",M="INCREASE_COMMENT",G="DECREASE_LIKE",W="TOGGLE_MODAL_STATE",H="SET_BOOK_INFO",q="ADD_POST",K="SET_LIBRARY",Y="SET_BOOKS",$="SET_INDIVIDUAL",J="SET_READINGINDIVIDUAL",Z="SET_WILLREADINGINDIVIDUAL",Q="SET_EMPTY",X="DELETE_READINDIVIDUAL",ee="DELETE_READINGINDIVIDUAL",te="DELETE_WILLREADINDIVIDUAL",se="TOGGLE_ISBOOK_ADDING",ae="SET_LIBRARY_NULL",ne="SET_ALL_USERS",re="SET_USER_PROFILE",oe="SET_RESET_PASS_RES",ce="SET_UPDATE_PASS_RES",ie=s(7),le=s.n(ie),de=function(e){return function(){var t=Object(k.a)(g.a.mark((function t(s){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,le.a.post("".concat("https://ramunjan-booksapp.herokuapp.com","/user/logout"),e,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("auth_token"))}});case 2:a=t.sent,a.data.success&&s({type:I});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ue=s(9),pe=function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(){var e;Object(d.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={password:"",email:"",isChecked:!0},e.handleValue=function(t){e.setState(Object(l.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault();var s={email:e.state.email,password:e.state.password},a=e.state.isChecked;localStorage.setItem("rememberMe",a),localStorage.setItem("ruser",a?JSON.stringify(s):""),e.props.loginUser(s,e.props.history)},e.toggleChange=function(){e.setState({isChecked:!e.state.isChecked})},e}return Object(u.a)(s,[{key:"componentDidMount",value:function(){this.props.logoutUser();var e="true"===localStorage.getItem("rememberMe"),t=e?localStorage.getItem("ruser"):"";if(t){var s=JSON.parse(t);this.setState({email:s.email,isChecked:e,password:s.password})}}},{key:"render",value:function(){return Object(a.jsx)("div",{style:{width:"80%",marginTop:"5rem"},className:"Loginpage",children:Object(a.jsx)("div",{className:"form-boxmain",children:Object(a.jsx)("form",{onSubmit:this.handleSubmit,className:"form-container",children:Object(a.jsxs)(h.a,{children:[this.props.responseFetchingState?Object(a.jsx)("div",{style:{position:"absolute",top:"50%",left:"47%"},className:"lds-dual-ring"}):null,Object(a.jsx)("div",{children:Object(a.jsx)("span",{children:"Login"})}),Object(a.jsx)(j.a,{children:Object(a.jsx)(m.a,{children:Object(a.jsxs)("div",{className:"form-elements",children:[Object(a.jsx)("label",{htmlFor:"email",children:"Email"}),Object(a.jsx)("input",{type:"email",name:"email",onChange:this.handleValue,value:this.state.email,className:"form-inputs",placeholder:"please enter the email"})]})})}),this.props.response&&this.props.response.error&&this.props.response.error.errors&&this.props.response.error.errors.email?Object(a.jsx)(f.a,{color:"secondary",children:this.props.response.error.errors.email.msg}):null,Object(a.jsx)(j.a,{children:Object(a.jsx)(m.a,{children:Object(a.jsxs)("div",{className:"form-elements",children:[Object(a.jsx)("label",{htmlFor:"password",children:"Password"}),Object(a.jsx)("input",{type:"password",name:"password",onChange:this.handleValue,value:this.state.password,className:"form-inputs",placeholder:"please enter the password"})]})})}),this.props.response&&this.props.response.error&&this.props.response.error.errors&&this.props.response.error.errors.password?Object(a.jsx)(f.a,{color:"secondary",children:this.props.response.error.errors.password.msg}):null,Object(a.jsx)(j.a,{children:Object(a.jsx)(m.a,{children:Object(a.jsxs)("div",{className:"form-box",children:[Object(a.jsx)("input",{type:"checkbox",className:"check-box",checked:this.state.isChecked,onChange:this.toggleChange}),Object(a.jsx)("span",{className:"form-checkbox",children:"Remember Me"})]})})}),Object(a.jsxs)(j.a,{className:"form-parentlink",children:[Object(a.jsx)(m.a,{lg:6,md:6,children:Object(a.jsx)(O.b,{to:"/Register",className:"form-links",children:"New User ?"})}),Object(a.jsx)(m.a,{lg:6,md:6,children:Object(a.jsx)(O.b,{to:"/forgot",className:"form-links",children:"Forgot Password ?"})})]}),Object(a.jsx)(j.a,{children:Object(a.jsx)(m.a,{children:Object(a.jsx)("button",{type:"submit",className:"form-button",children:"Login"})})}),this.props.response&&this.props.response.error?Object(a.jsx)(f.a,{color:"secondary",children:this.props.response.error.message}):null,this.props.response?Object(a.jsx)(f.a,{color:"secondary",children:this.props.response.message}):null]})})})})}}]),s}(n.Component),be=Object(ue.b)((function(e){return{responseFetchingState:e.userState.isuserFetching,response:e.userState.userResponse}}),{loginUser:function(e,t){return function(){var s=Object(k.a)(g.a.mark((function s(a){var n,r;return g.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,a({type:N}),a({type:C,payload:null}),a({type:v,payload:null}),console.log(e),s.next=7,le.a.post("".concat("https://ramunjan-booksapp.herokuapp.com","/user/login"),e);case 7:n=s.sent,(r=n.data).success?(a({type:v,payload:r.user}),a({type:A,payload:r.token}),a({type:C,payload:r}),setTimeout((function(){t.push("/home")}),1e3)):a({type:C,payload:r}),s.next=16;break;case 12:s.prev=12,s.t0=s.catch(0),console.log(s.t0),alert(s.t0.message);case 16:return s.prev=16,a({type:N}),s.finish(16);case 19:case"end":return s.stop()}}),s,null,[[0,12,16,19]])})));return function(e){return s.apply(this,arguments)}}()},logoutUser:de})(Object(i.g)(pe)),he=function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(){var e;Object(d.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={name:"",password:"",cpassword:"",email:"",gender:"",role:"",passcode:"",checkpassword:!1,checkemail:!1,checkpasswordmatch:!1,checkname:!1},e.CheckPasswordfunc=function(e){return!e.match(/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{6,16}$/)},e.CheckPasswordmatchfunc=function(e,t){return e!==t},e.ValidateEmail=function(e){var t=e.indexOf("@"),s=e.lastIndexOf(".");return!e.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/)||(t<1||s<t+2||s+2>=e.length)},e.handleValue=function(t){e.setState(Object(l.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){if(t.preventDefault(),e.props.removeResponse(),e.setState({checkpassword:e.CheckPasswordfunc(e.state.password)}),e.setState({checkemail:e.ValidateEmail(e.state.email)}),e.setState({checkpasswordmatch:e.CheckPasswordmatchfunc(e.state.password,e.state.cpassword)}),e.setState({checkname:!(e.state.name.length>3)}),!e.CheckPasswordfunc(e.state.password)&&!e.ValidateEmail(e.state.email)&&!e.CheckPasswordmatchfunc(e.state.password,e.state.cpassword)&&e.state.name.length>0){var s=e.state,a={name:s.name,email:s.email,password:s.password,confirmPassword:s.cpassword,gender:s.gender||"male",role:s.role||"user",passcode:s.passcode};e.props.registerUser(a,e.props.history)}},e}return Object(u.a)(s,[{key:"render",value:function(){return Object(a.jsx)("div",{style:{width:"100%"},children:Object(a.jsx)("div",{style:{marginTop:"30px"},className:"form-boxmain",children:Object(a.jsx)("form",{onSubmit:this.handleSubmit,className:"form-container",children:Object(a.jsxs)(h.a,{children:[this.props.responseFetchingState?Object(a.jsx)("div",{style:{position:"absolute",top:"50%",left:"46%"},className:"lds-dual-ring"}):null,Object(a.jsx)("div",{children:Object(a.jsx)("span",{children:"Register"})}),Object(a.jsx)(j.a,{children:Object(a.jsx)(m.a,{children:Object(a.jsxs)("div",{className:"form-elements",children:[Object(a.jsx)("label",{htmlFor:"name",children:"Name"}),Object(a.jsx)("input",{type:"text",name:"name",onChange:this.handleValue,value:this.state.name,className:"form-inputs"}),this.state.checkname?Object(a.jsx)("span",{className:"form-alert",children:"Name must be atleast three characters"}):null]})})}),Object(a.jsx)(j.a,{children:Object(a.jsx)(m.a,{children:Object(a.jsxs)("div",{className:"form-elements",children:[Object(a.jsx)("label",{htmlFor:"email",children:"Email"}),Object(a.jsx)("input",{type:"text",name:"email",onChange:this.handleValue,value:this.state.email,className:"form-inputs"}),this.state.checkemail?Object(a.jsx)("span",{className:"form-alert",children:"please enter a valid email"}):null]})})}),Object(a.jsxs)(j.a,{children:[Object(a.jsx)(m.a,{lg:6,md:6,children:Object(a.jsxs)("div",{className:"form-elements",children:[Object(a.jsx)("label",{htmlFor:"password",children:"Password"}),Object(a.jsx)("input",{type:"password",name:"password",onChange:this.handleValue,value:this.state.password,className:"form-inputs"}),this.state.checkpassword?Object(a.jsx)("span",{className:"form-alert",children:"Password must contain minimum eight characters, at least one letter, one number and one special character!"}):null]})}),Object(a.jsx)(m.a,{lg:6,md:6,children:Object(a.jsxs)("div",{className:"form-elements",children:[Object(a.jsx)("label",{htmlFor:"cpassword",children:"Confirm Password"}),Object(a.jsx)("input",{type:"password",name:"cpassword",onChange:this.handleValue,value:this.state.cpassword,className:"form-inputs"}),this.state.checkpasswordmatch?Object(a.jsx)("span",{className:"form-alert",children:"password does not match"}):null]})})]}),Object(a.jsxs)(j.a,{children:[Object(a.jsx)(m.a,{lg:6,md:6,children:Object(a.jsxs)("div",{className:"form-elements",children:[Object(a.jsx)("label",{htmlFor:"gender",children:"Please pick your gender "}),Object(a.jsxs)("select",{value:this.state.gender,onChange:this.handleValue,name:"gender",children:[Object(a.jsx)("option",{value:"male",children:"Male"}),Object(a.jsx)("option",{value:"female",children:"Female"}),Object(a.jsx)("option",{value:"other",children:"other"})]})]})}),Object(a.jsx)(m.a,{lg:6,md:6,children:Object(a.jsxs)("div",{className:"form-elements",children:[Object(a.jsx)("label",{htmlFor:"role",children:"Please pick your role "}),Object(a.jsxs)("select",{value:this.state.role,onChange:this.handleValue,name:"role",children:[Object(a.jsx)("option",{value:"user",children:"User"}),Object(a.jsx)("option",{value:"admin",children:"Admin"})]})]})})]}),"admin"===this.state.role?Object(a.jsx)(j.a,{children:Object(a.jsx)(m.a,{children:Object(a.jsxs)("div",{className:"form-elements",children:[Object(a.jsx)("label",{htmlFor:"passcode",children:"Passcode"}),Object(a.jsx)("input",{type:"text",name:"passcode",onChange:this.handleValue,value:this.state.passcode,className:"form-inputs"})]})})}):null,Object(a.jsx)(j.a,{className:"form-parentlink",children:Object(a.jsx)(m.a,{children:Object(a.jsx)(O.b,{to:"/login",className:"form-links",children:"Already Registered ?"})})}),Object(a.jsx)(j.a,{children:Object(a.jsx)(m.a,{children:Object(a.jsx)("button",{type:"submit",className:"form-button",children:"Register"})})}),this.props.response?Object(a.jsx)(f.a,{color:"secondary",children:this.props.response.message}):null]})})})})}}]),s}(n.Component),je=Object(ue.b)((function(e){return{responseFetchingState:e.userState.isResponseFetching,response:e.userState.userResponse}}),{registerUser:function(e,t){return function(){var s=Object(k.a)(g.a.mark((function s(a){var n;return g.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,a({type:E}),a({type:C,payload:null}),s.next=5,le.a.post("".concat("https://ramunjan-booksapp.herokuapp.com","/user/register"),e);case 5:(n=s.sent).data.success?(a({type:v,payload:n.data.user}),a({type:A,payload:n.data.token}),a({type:C,payload:n.data}),setTimeout((function(){t.push("/home")}),1e3)):a({type:C,payload:n.data}),s.next=13;break;case 9:s.prev=9,s.t0=s.catch(0),console.error(s.t0),alert(s.t0.message);case 13:return s.prev=13,a({type:E}),s.finish(13);case 16:case"end":return s.stop()}}),s,null,[[0,9,13,16]])})));return function(e){return s.apply(this,arguments)}}()},removeResponse:function(){return{type:C,payload:null}}})(Object(i.g)(he)),me=s(70),fe=s.n(me),Oe=Object(ue.b)((function(e){return{user:e.userState.user}}))((function(e){return e.user?Object(a.jsx)(i.a,{to:"/home"}):Object(a.jsx)("div",{className:"type_writer",style:{height:"86vh",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(a.jsx)(fe.a,{onInit:function(e){e.typeString("Books are fun!").pauseFor(2e3).deleteAll().typeString("Books are life!").pauseFor(2e3).deleteAll().typeString("Books are friends!").pauseFor(2e3).deleteAll().typeString("They let you travel without moving your feet!").pauseFor(2e3).deleteAll().typeString("Register and connect with other readers!").start()}})})})),xe=(s(108),s(44)),ge=(s(109),function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(){var e;Object(d.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={name:"name",email:"email@something.com",gender:"",bio:"You are cool",nameedit:!0,emailedit:!0,ageedit:!0,bioedit:!0,edit:!1,profileImg:"https://i.ibb.co/gSbgf9K/male-placeholder.jpg"},e.handleproEdit=function(t){t.preventDefault(),e.setState({edit:!0})},e.handleSubmit=function(t){t.preventDefault(),e.setState({edit:!1,nameedit:!0,emailedit:!0,ageedit:!0,bioedit:!0});var s={imageData:e.state.profileImg};e.props.uploadPicture(s),e.props.editProfile({name:e.state.name,gender:e.state.gender,bio:e.state.bio})},e.imageHandler=function(t){var s=new FileReader;s.onload=function(){2===s.readyState&&e.setState({profileImg:s.result})},s.readAsDataURL(t.target.files[0])},e.handlenameEdit=function(t){e.setState({nameedit:!e.state.nameedit})},e.handlenameDown=function(t){"Enter"===t.key&&e.setState({nameedit:!e.state.nameedit})},e.handleemailEdit=function(t){e.setState({emailedit:!e.state.emailedit})},e.handleemailDown=function(t){"Enter"===t.key&&e.setState({emailedit:!e.state.emailedit})},e.handleageEdit=function(t){e.setState({ageedit:!e.state.ageedit})},e.handleageDown=function(t){"Enter"===t.key&&e.setState({ageedit:!e.state.ageedit})},e.handleageEdit=function(t){e.setState({ageedit:!e.state.ageedit})},e.handleageDown=function(t){"Enter"===t.key&&e.setState({ageedit:!e.state.ageedit})},e.handlebioEdit=function(t){e.setState({bioedit:!e.state.bioedit})},e.handlebioDown=function(t){"Enter"===t.key&&e.setState({bioedit:!e.state.bioedit})},e.handleValue=function(t){e.setState(Object(l.a)({},t.target.name,t.target.value))},e}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=Object(k.a)(g.a.mark((function e(){var t,s,a,n,r,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.getuserDetail(this.props.history);case 2:this.props.userDetail&&(t=this.props.userDetail,s=t.name,a=t.email,n=t.gender,r=t.bio,o=t.imagelink,this.setState({name:s,email:a,gender:n,bio:r,profileImg:o}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){this.props.dpResponse&&e.dpResponse!==this.props.dpResponse&&this.props.dpResponse.success&&xe.b.success("DP updated successfully!",{autoClose:2e3}),this.props.updateResponse&&e.updateResponse!==this.props.updateResponse&&this.props.updateResponse.success&&xe.b.success("Profile updated successfully!",{autoClose:2e3})}},{key:"render",value:function(){return this.props.user?Object(a.jsxs)("div",{style:{overflow:"auto",width:"80%"},children:[Object(a.jsx)("div",{style:{marginTop:"40px"},className:"form-boxmain",children:Object(a.jsx)("form",{onSubmit:this.handleSubmit,className:"form-container",children:Object(a.jsx)(h.a,{children:Object(a.jsxs)("table",{style:{width:"100%"},children:[this.props.responseFetchingState?Object(a.jsx)("div",{style:{position:"absolute",top:"40%",left:"45%"},className:"lds-dual-ring"}):null,Object(a.jsx)("div",{children:Object(a.jsx)("span",{children:"Profile"})}),Object(a.jsx)(j.a,{children:Object(a.jsx)(m.a,{children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("div",{className:"img-holder",children:Object(a.jsx)("img",{src:this.state.profileImg,alt:"",id:"img",className:"img"})}),this.state.edit?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("input",{type:"file",accept:"image/*",name:"image-upload",id:"input",onChange:this.imageHandler}),Object(a.jsx)("div",{className:"label",children:Object(a.jsxs)("label",{className:"image-upload",htmlFor:"input",children:[Object(a.jsx)("i",{class:"fas fa-image"}),"\xa0Choose your Photo"]})})]}):null]})})}),Object(a.jsx)(j.a,{children:Object(a.jsx)(m.a,{children:this.state.nameedit?Object(a.jsx)("tr",{children:Object(a.jsx)("div",{children:Object(a.jsx)("span",{className:"profile-edit",children:Object(a.jsxs)("div",{className:"profile-block",children:[Object(a.jsxs)("td",{children:[" ",Object(a.jsx)("div",{className:"profile-line",children:"Name : "})]}),Object(a.jsx)("td",{children:Object(a.jsx)("div",{className:"profile-line1",children:this.state.name})}),Object(a.jsx)("td",{children:this.state.edit?Object(a.jsx)("div",{className:"profile-line",children:Object(a.jsx)("i",{className:"fas fa-edit",onClick:this.handlenameEdit,name:"nameedit"})}):null})]})})})}):Object(a.jsxs)("div",{className:"form-elements",children:[Object(a.jsx)("label",{htmlFor:"name",children:"Name"}),Object(a.jsx)("input",{type:"text",name:"name",onChange:this.handleValue,value:this.state.name,className:"form-inputs",placeholder:"please enter your Name",onKeyDown:this.handlenameDown})]})})}),Object(a.jsx)(j.a,{children:Object(a.jsx)(m.a,{children:this.state.emailedit?Object(a.jsx)("tr",{children:Object(a.jsx)("div",{children:Object(a.jsx)("span",{className:"profile-edit",children:Object(a.jsxs)("div",{className:"profile-block",children:[Object(a.jsxs)("td",{children:[" ",Object(a.jsx)("div",{className:"profile-line",children:"Email : "})]}),Object(a.jsx)("td",{children:Object(a.jsx)("div",{className:"profile-line1",children:this.state.email})}),Object(a.jsx)("td",{children:this.state.edit?Object(a.jsx)("div",{className:"profile-line",children:Object(a.jsx)("i",{className:"fas fa-edit",onClick:this.handleemailEdit,name:"emailedit"})}):null})]})})})}):Object(a.jsxs)("div",{className:"form-elements",children:[Object(a.jsx)("label",{htmlFor:"name",children:"Email"}),Object(a.jsx)("input",{type:"text",name:"email",onChange:this.handleValue,value:this.state.email,className:"form-inputs",placeholder:"please enter your Name",onKeyDown:this.handleemailDown})]})})}),Object(a.jsx)(j.a,{children:Object(a.jsx)(m.a,{children:this.state.ageedit?Object(a.jsx)("tr",{children:Object(a.jsx)("div",{children:Object(a.jsx)("span",{className:"profile-edit",children:Object(a.jsxs)("div",{className:"profile-block",children:[Object(a.jsx)("td",{children:Object(a.jsx)("div",{className:"profile-line",children:"Gender : "})}),Object(a.jsx)("td",{children:Object(a.jsx)("div",{className:"profile-line1",children:this.state.gender})}),Object(a.jsx)("td",{children:this.state.edit?Object(a.jsx)("div",{className:"profile-line",children:Object(a.jsx)("i",{className:"fas fa-edit",onClick:this.handleageEdit,name:"ageedit"})}):null})]})})})}):Object(a.jsxs)("div",{className:"form-elements",children:[Object(a.jsx)("label",{htmlFor:"name",children:"Gender"}),Object(a.jsx)("input",{type:"text",name:"gender",onChange:this.handleValue,value:this.state.gender,className:"form-inputs",placeholder:"please enter your gender",onKeyDown:this.handleageDown})]})})}),Object(a.jsx)(j.a,{children:Object(a.jsx)(m.a,{children:this.state.bioedit?Object(a.jsx)("tr",{children:Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"profile-edit",children:Object(a.jsxs)("div",{className:"profile-block",children:[Object(a.jsx)("td",{children:Object(a.jsx)("div",{className:"profile-line",children:"Bio : "})}),Object(a.jsx)("td",{children:Object(a.jsx)("div",{className:"profile-line1",children:this.state.bio})}),Object(a.jsx)("td",{children:this.state.edit?Object(a.jsx)("div",{className:"profile-line",children:Object(a.jsx)("i",{className:"fas fa-edit",onClick:this.handlebioEdit,name:"bioedit"})}):null})]})})})}):Object(a.jsxs)("div",{className:"form-elements",children:[Object(a.jsx)("label",{htmlFor:"name",children:"Bio"}),Object(a.jsx)("textarea",{name:"bio",onChange:this.handleValue,value:this.state.bio,className:"form-inputbio",placeholder:"please enter your Name",onKeyDown:this.handlebioDown,wrap:"soft",maxLength:"150"})]})})}),Object(a.jsxs)(j.a,{children:[Object(a.jsx)(m.a,{children:Object(a.jsx)("button",{type:"submit",onSubmit:this.handleSubmit,className:"form-button",children:"Save"})}),Object(a.jsx)(m.a,{children:Object(a.jsx)("button",{className:"form-button",onClick:this.handleproEdit,children:"Edit Profile"})})]})]})})})}),Object(a.jsx)(xe.a,{})]}):Object(a.jsx)(i.a,{to:"/"})}}]),s}(n.Component)),ke=Object(ue.b)((function(e){return{user:e.userState.user,userDetail:e.userState.userDetail,dpResponse:e.userState.dpresponse,updateResponse:e.userState.updateResponse}}),{uploadPicture:function(e){return function(){var t=Object(k.a)(g.a.mark((function t(s){var a,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s({type:T}),s({type:R,payload:null}),t.next=5,le.a.post("".concat("https://ramunjan-booksapp.herokuapp.com","/user/uploadfile"),e,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("auth_token"))}});case 5:a=t.sent,n=a.data,s({type:R,payload:n}),s({type:v,payload:n.user}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.error(t.t0),alert(t.t0.message);case 15:return t.prev=15,s({type:T}),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[0,11,15,18]])})));return function(e){return t.apply(this,arguments)}}()},getuserDetail:function(e){return function(){var t=Object(k.a)(g.a.mark((function t(s){var a,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s({type:N}),s({type:C,payload:null}),s({type:_,payload:null}),t.next=6,le()("".concat("https://ramunjan-booksapp.herokuapp.com","/user"),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("auth_token"))}});case 6:a=t.sent,(n=a.data).success?s({type:_,payload:n.userProfile}):(s({type:C,payload:n}),e.push("/login")),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0),alert(t.t0.message);case 15:return t.prev=15,s({type:N}),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[0,11,15,18]])})));return function(e){return t.apply(this,arguments)}}()},editProfile:function(e){return function(){var t=Object(k.a)(g.a.mark((function t(s){var a,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s({type:D}),s({type:P,payload:null}),t.next=5,le.a.put("".concat("https://ramunjan-booksapp.herokuapp.com","/user"),e,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("auth_token"))}});case 5:a=t.sent,n=a.data,s({type:P,payload:n}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0),alert(t.t0.message);case 14:return t.prev=14,s({type:D}),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[0,10,14,17]])})));return function(e){return t.apply(this,arguments)}}()}})(ge),ve=s(53),ye=s(25),we=s.n(ye),Se=s(140),Ne=(s(117),s.p+"static/media/read.b7830454.jpg"),Ie=function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(){var e;Object(d.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={books:"",bookstitle:null,readbook:!1,readingbook:!1,willreadingbook:!1,readboolean:!1},e.handleBooks=function(t){e.setState({books:t.target.value}),e.props.setlibrary(e.state.books),e.setState({bookstitle:e.props.bookstitle})},e.handleItems=function(t){e.setState({books:t,bookstitle:[]}),e.setState({readboolean:!0})},e.handleSubmit=function(t){var s=e.props.readbooks.findIndex((function(t){return t.title===e.state.books})),a=e.props.readingbooks.findIndex((function(t){return t.title===e.state.books})),n=e.props.willreadbooks.findIndex((function(t){return t.title===e.state.books}));-1===s&&-1===a&&-1===n?(e.props.getlibrary(e.state.books,e.props.allbooks),e.setState({books:"",readbook:!1}),e.setState({readboolean:!1})):(e.setState({books:"",readbook:!1}),e.setState({readboolean:!1}))},e.handlereadingSubmit=function(t){var s=e.props.readbooks.findIndex((function(t){return t.title===e.state.books})),a=e.props.readingbooks.findIndex((function(t){return t.title===e.state.books})),n=e.props.willreadbooks.findIndex((function(t){return t.title===e.state.books}));-1===s&&-1===a&&-1===n?(e.props.getreadinglibrary(e.state.books,e.props.allbooks),e.setState({books:"",readingbook:!1}),e.setState({readboolean:!1})):(e.setState({books:"",readingbook:!1}),e.setState({readboolean:!1}))},e.handlewillreadingSubmit=function(t){var s=e.props.readbooks.findIndex((function(t){return t.title===e.state.books})),a=e.props.readingbooks.findIndex((function(t){return t.title===e.state.books})),n=e.props.willreadbooks.findIndex((function(t){return t.title===e.state.books}));-1===s&&-1===a&&-1===n?(e.props.getwillreadinglibrary(e.state.books,e.props.allbooks),e.setState({books:"",willreadingbook:!1}),e.setState({readboolean:!1})):(e.setState({books:"",willreadingbook:!1}),e.setState({readboolean:!1}))},e.handleBookdetail=function(t){e.props.history.push("/bookdetail/".concat(t))},e.handlereaddelete=function(t){e.props.deleteread(t)},e.handlereadingdelete=function(t){e.props.deletereading(t)},e.handlewillreaddelete=function(t){e.props.deletewillread(t)},e}return Object(u.a)(s,[{key:"componentDidMount",value:function(){this.props.fetchlibrary(this.props.history)}},{key:"render",value:function(){var e=this;return console.log(this.props.readbooks),this.props.user?Object(a.jsxs)("div",{children:[this.props.responseFetchingState?Object(a.jsx)("div",{style:{position:"absolute",top:"50%",left:"46%"},className:"lds-dual-ring"}):null,Object(a.jsxs)("div",{className:"alltasks",children:[Object(a.jsxs)("div",{className:"inditask reading",children:[Object(a.jsx)("span",{className:"library-heading",children:"ALREADY READ"}),this.props.readbooks?this.props.readbooks.map((function(t){return Object(a.jsxs)("div",{className:"planned",children:[Object(a.jsx)("div",{className:"bkimg",children:t.image?Object(a.jsx)("img",{src:t.image,alt:"bookimage",className:"buk"}):Object(a.jsx)("img",{src:Ne,alt:"unknowimg",className:"buk"})}),Object(a.jsx)("div",{className:"bkimg bkt",children:t.title}),Object(a.jsxs)("div",{className:"bkimg",children:[Object(a.jsx)("button",{onClick:function(){return e.handleBookdetail(t.bookId)},className:"bookbtn bkvbtn",children:"View Book"}),Object(a.jsx)("button",{onClick:function(){return e.handlereaddelete(t.bookId)},className:"bookbtn bkdbtn",children:"Delete"})]})]},Object(Se.a)())})):"",Object(a.jsx)("button",{onClick:function(){return e.setState({readbook:!0})},className:"bookbtn",children:"Add Book"}),Object(a.jsx)(we.a,{isOpen:this.state.readbook,onRequestClose:function(){return e.setState({readbook:!1})},className:"readbookmodal",style:{overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:'linear-gradient(rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.8)),url("../images/login.jpg")'},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",background:"linear-gradient(rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.8))",padding:"20px"}},children:Object(a.jsxs)("div",{className:"booksinput",children:[Object(a.jsx)("h1",{children:"Books Which You Read"}),Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{type:"text",name:"books",value:this.state.books,onChange:this.handleBooks,placeholder:"please enter your booktitle and select from the suggestion"}),this.state.readboolean?Object(a.jsx)("button",{onClick:this.handleSubmit,className:"bookbtn",children:"Addbook"}):""]}),Object(a.jsx)("ul",{className:"listitems",children:this.state.bookstitle?this.state.bookstitle.map((function(t){return Object(a.jsx)("li",{onClick:function(){return e.handleItems(t)},className:"listitemsitem",children:t},Object(Se.a)())})):""})]})})]}),Object(a.jsxs)("div",{className:"inditask reading",children:[Object(a.jsx)("span",{className:"library-heading",children:"CURRENTLY READING"}),this.props.readingbooks?this.props.readingbooks.map((function(t){return Object(a.jsxs)("div",{className:"planned",children:[Object(a.jsx)("div",{className:"bkimg",children:t.image?Object(a.jsx)("img",{src:t.image,alt:"bookimage",className:"buk"}):Object(a.jsx)("img",{src:Ne,alt:"unknowimg",className:"buk"})}),Object(a.jsx)("div",{className:"bkimg bkt",children:t.title}),Object(a.jsxs)("div",{className:"bkimg",children:[Object(a.jsx)("button",{onClick:function(){return e.handleBookdetail(t.bookId)},className:"bookbtn bkvbtn",children:"View Book"}),Object(a.jsx)("button",{onClick:function(){return e.handlereadingdelete(t.bookId)},className:"bookbtn bkdbtn",children:"Delete"})]})]},Object(Se.a)())})):"",Object(a.jsx)("button",{onClick:function(){return e.setState({readingbook:!0})},className:"bookbtn",children:"Add Book"}),Object(a.jsx)(we.a,{isOpen:this.state.readingbook,onRequestClose:function(){return e.setState({readingbook:!1})},className:"readbookmodal",style:{overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:'linear-gradient(rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.8)),url("../images/login.jpg")'},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",background:"linear-gradient(rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.8))",padding:"20px"}},children:Object(a.jsxs)("div",{className:"booksinput",children:[Object(a.jsx)("h1",{children:"Books Which You are Reading"}),Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{type:"text",name:"books",value:this.state.books,onChange:this.handleBooks,placeholder:"please enter your booktitle and select from the suggestion"}),this.state.readboolean?Object(a.jsx)("button",{onClick:this.handlereadingSubmit,className:"bookbtn",children:"Addbook"}):""]}),Object(a.jsx)("ul",{className:"listitems",children:this.state.bookstitle?this.state.bookstitle.map((function(t){return Object(a.jsx)("li",{onClick:function(){return e.handleItems(t)},className:"listitemsitem",children:t},Object(Se.a)())})):""})]})})]}),Object(a.jsxs)("div",{className:"inditask reading",children:[Object(a.jsx)("span",{className:"library-heading",children:"WANT TO READ"}),this.props.willreadbooks?this.props.willreadbooks.map((function(t){return Object(a.jsxs)("div",{className:"planned",children:[Object(a.jsx)("div",{className:"bkimg",children:t.image?Object(a.jsx)("img",{src:t.image,alt:"bookimage",className:"buk"}):Object(a.jsx)("img",{src:Ne,alt:"unknowimg",className:"buk"})}),Object(a.jsx)("div",{className:"bkimg bkt",children:t.title}),Object(a.jsxs)("div",{className:"bkimg",children:[Object(a.jsx)("button",{onClick:function(){return e.handleBookdetail(t.bookId)},className:"bookbtn bkvbtn",children:"View Book"}),Object(a.jsx)("button",{onClick:function(){return e.handlewillreaddelete(t.bookId)},className:"bookbtn bkdbtn",children:"Delete"})]})]},Object(Se.a)())})):"",Object(a.jsx)("button",{onClick:function(){return e.setState({willreadingbook:!0})},className:"bookbtn",children:"Add Book"}),Object(a.jsx)(we.a,{isOpen:this.state.willreadingbook,onRequestClose:function(){return e.setState({willreadingbook:!1})},className:"readbookmodal",style:{overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:'linear-gradient(rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.8)),url("../images/login.jpg")'},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",background:"linear-gradient(rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.8))",padding:"20px"}},children:Object(a.jsxs)("div",{className:"booksinput",children:[Object(a.jsx)("h1",{children:"Books Which You Want to Read"}),Object(a.jsxs)("div",{children:[Object(a.jsx)("input",{type:"text",name:"books",value:this.state.books,onChange:this.handleBooks,placeholder:"please enter your booktitle and select from the suggestion"}),this.state.readboolean?Object(a.jsx)("button",{onClick:this.handlewillreadingSubmit,className:"bookbtn",children:"Addbook"}):""]}),Object(a.jsx)("ul",{className:"listitems",children:this.state.bookstitle?this.state.bookstitle.map((function(t){return Object(a.jsx)("li",{onClick:function(){return e.handleItems(t)},className:"listitemsitem",children:t},Object(Se.a)())})):""})]})})]})]})]}):Object(a.jsx)(i.a,{to:"/"})}}]),s}(n.Component),Ce=Object(ue.b)((function(e){return{user:e.userState.user,allbooks:e.libraryState.booksinfo,bookstitle:e.libraryState.bookstitle,readbooks:e.libraryState.readbooks,readingbooks:e.libraryState.readingbooks,willreadbooks:e.libraryState.willreadbooks,responseFetchingState:e.libraryState.isbookAdding}}),{setlibrary:function(e){return function(){var t=Object(k.a)(g.a.mark((function t(s){var a,n,r,o,c,i,l;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(e.length>0)){t.next=8;break}return t.next=4,le()("https://www.googleapis.com/books/v1/volumes?q=".concat(e));case 4:if(a=t.sent,n=a.data,r=[],n){for(l=0;l<n.items.length;l++)o=n.items[l].volumeInfo.title,c=n.items[l].selfLink,i={title:o,link:c},r.push(o),s({type:K,payload:i});s({type:Y,payload:r})}case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},getlibrary:function(e,t){return function(){var s=Object(k.a)(g.a.mark((function s(a){var n,r,o,c,i;return g.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,n=t.findIndex((function(t){return t.title===e})),console.log(n,t,e),-1===n){s.next=14;break}return a({type:se}),s.next=7,le()("".concat(t[n].link));case 7:return r=s.sent,o=r.data,c={bookId:o.id,title:o.volumeInfo.title,image:o.volumeInfo.imageLinks.smallThumbnail},s.next=12,le.a.post("".concat("https://ramunjan-booksapp.herokuapp.com","/library"),{bookId:o.id,title:o.volumeInfo.title,image:o.volumeInfo.imageLinks.smallThumbnail,collectionId:1},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("auth_token"))}});case 12:(i=s.sent).data.success?o&&(a({type:$,payload:c}),a({type:Q})):alert(i.data.message);case 14:s.next=19;break;case 16:s.prev=16,s.t0=s.catch(0),console.error(s.t0);case 19:return s.prev=19,a({type:se}),s.finish(19);case 22:case"end":return s.stop()}}),s,null,[[0,16,19,22]])})));return function(e){return s.apply(this,arguments)}}()},getwillreadinglibrary:function(e,t){return function(){var s=Object(k.a)(g.a.mark((function s(a){var n,r,o,c;return g.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,n=t.findIndex((function(t){return t.title===e})),console.log(n,t,e),-1===n){s.next=14;break}return a({type:se}),s.next=7,le()("".concat(t[n].link));case 7:return r=s.sent,o=r.data,c={bookId:o.id,title:o.volumeInfo.title,image:o.volumeInfo.imageLinks.smallThumbnail},s.next=12,le.a.post("".concat("https://ramunjan-booksapp.herokuapp.com","/library"),{bookId:o.id,title:o.volumeInfo.title,image:o.volumeInfo.imageLinks.smallThumbnail,collectionId:3},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("auth_token"))}});case 12:s.sent.data.success?o&&(a({type:Z,payload:c}),a({type:Q})):alert(o.message);case 14:s.next=19;break;case 16:s.prev=16,s.t0=s.catch(0),console.error(s.t0);case 19:return s.prev=19,a({type:se}),s.finish(19);case 22:case"end":return s.stop()}}),s,null,[[0,16,19,22]])})));return function(e){return s.apply(this,arguments)}}()},getreadinglibrary:function(e,t){return function(){var s=Object(k.a)(g.a.mark((function s(a){var n,r,o,c,i;return g.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,n=t.findIndex((function(t){return t.title===e})),console.log(n,t,e),-1===n){s.next=14;break}return a({type:se}),s.next=7,le()("".concat(t[n].link));case 7:return r=s.sent,o=r.data,c={bookId:o.id,title:o.volumeInfo.title,image:o.volumeInfo.imageLinks.smallThumbnail},s.next=12,le.a.post("".concat("https://ramunjan-booksapp.herokuapp.com","/library"),{bookId:o.id,title:o.volumeInfo.title,image:o.volumeInfo.imageLinks.smallThumbnail,collectionId:2},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("auth_token"))}});case 12:(i=s.sent).data.success?o&&(a({type:J,payload:c}),a({type:Q})):alert(i.data.message);case 14:s.next=19;break;case 16:s.prev=16,s.t0=s.catch(0),console.error(s.t0);case 19:return s.prev=19,a({type:se}),s.finish(19);case 22:case"end":return s.stop()}}),s,null,[[0,16,19,22]])})));return function(e){return s.apply(this,arguments)}}()},deleteread:function(e){return function(){var t=Object(k.a)(g.a.mark((function t(s){var a,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s({type:se}),t.next=4,le.a.delete("".concat("https://ramunjan-booksapp.herokuapp.com","/library/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("auth_token"))}});case 4:a=t.sent,(n=a.data).success?s({type:X,payload:e}):alert(n.error.message),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),alert(t.t0);case 12:return t.prev=12,s({type:se}),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,9,12,15]])})));return function(e){return t.apply(this,arguments)}}()},deletereading:function(e){return function(){var t=Object(k.a)(g.a.mark((function t(s){var a,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s({type:se}),t.next=4,le.a.delete("".concat("https://ramunjan-booksapp.herokuapp.com","/library/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("auth_token"))}});case 4:a=t.sent,(n=a.data).success?s({type:ee,payload:e}):alert(n.error.message),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),alert(t.t0);case 12:return t.prev=12,s({type:se}),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,9,12,15]])})));return function(e){return t.apply(this,arguments)}}()},deletewillread:function(e){return function(){var t=Object(k.a)(g.a.mark((function t(s){var a,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s({type:se}),t.next=4,le.a.delete("".concat("https://ramunjan-booksapp.herokuapp.com","/library/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("auth_token"))}});case 4:a=t.sent,(n=a.data).success?s({type:te,payload:e}):alert(n.error.message),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),alert(t.t0);case 12:return t.prev=12,s({type:se}),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,9,12,15]])})));return function(e){return t.apply(this,arguments)}}()},fetchlibrary:function(e){return function(){var t=Object(k.a)(g.a.mark((function t(s){var a,n,r,o,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s({type:ae}),s({type:se}),t.next=5,le()("".concat("https://ramunjan-booksapp.herokuapp.com","/library"),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("auth_token"))}});case 5:if(a=t.sent,(n=a.data).success){r=Object(ve.a)(n.collection);try{for(r.s();!(o=r.n()).done;)1===(c=o.value).collectionId?s({type:$,payload:c}):2===c.collectionId?s({type:J,payload:c}):3===c.collectionId&&s({type:Z,payload:c})}catch(i){r.e(i)}finally{r.f()}}else e.push("/login");t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0);case 13:return t.prev=13,s({type:se}),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,10,13,16]])})));return function(e){return t.apply(this,arguments)}}()}})(Ie),Ee=(s(118),s(71)),Ae=s(138),_e={limitDescription:function(e,t){return e.length<=t?e:"".concat(e.slice(0,t),"..")}};_e.getbookTitle=function(){var e=Object(k.a)(g.a.mark((function e(t){var s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t));case 2:return s=e.sent,e.abrupt("return",s.title);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Te=_e,De=Object(ue.b)((function(e){return{user:e.userState.user}}),{logoutUser:de,logoutAll:function(e){return function(){var t=Object(k.a)(g.a.mark((function t(s){var a,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("i am logout"),t.next=3,le.a.post("".concat("https://ramunjan-booksapp.herokuapp.com","/user/logoutall"),e,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("auth_token"))}});case 3:a=t.sent,n=a.data,console.log(n),n.success&&s({type:I});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(Object(i.g)((function(e){return Object(a.jsx)("div",{className:"Header-Total",children:Object(a.jsx)(h.a,{children:Object(a.jsxs)(j.a,{children:[Object(a.jsx)(m.a,{lg:6,md:6,xs:6,children:Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"Header-Title",onClick:function(){e.history.push("/home")},children:[Object(a.jsx)("span",{className:"Header-Logo",children:"BooksApp"}),Object(a.jsx)("span",{className:"Header-Sublogo",children:"The place where you find your favouite books"})]})})}),Object(a.jsx)(m.a,{lg:6,md:6,xs:6,children:e.user?Object(a.jsxs)("div",{className:"User-logo",children:[console.log(e.user),Object(a.jsxs)(Ae.a,{children:[Object(a.jsxs)(Ae.a.Toggle,{className:"User-button",children:[Object(a.jsx)("img",{className:"User-image",src:e.user.imagelink,alt:"demo"}),Object(a.jsx)("span",{className:"User-name",children:Te.limitDescription(e.user.name,5)})]}),Object(a.jsxs)(Ae.a.Menu,{className:"User-dropdown",children:[Object(a.jsx)(Ae.a.Item,{children:Object(a.jsx)(O.b,{to:"/profile",className:"form-links1",children:"Profile"})}),Object(a.jsx)(Ae.a.Item,{children:Object(a.jsx)(O.b,{to:"/library",className:"form-links1",children:"Library"})}),Object(a.jsx)(Ae.a.Item,{children:Object(a.jsx)(O.b,{id:"RouterNavLink",to:"/social",className:"form-links1",children:"Social"})}),Object(a.jsx)(Ae.a.Item,{onClick:function(){e.logoutUser()},children:Object(a.jsx)(O.b,{to:"/",className:"form-links1",children:Object(a.jsx)("span",{style:{color:"#FF0000"},children:"Logout"})})}),Object(a.jsx)(Ae.a.Item,{onClick:function(){e.logoutAll()},children:Object(a.jsx)(O.b,{to:"/",className:"form-links1",children:Object(a.jsx)("span",{style:{color:"\t#8B0000"},children:"Logout all"})})})]})]})]}):Object(a.jsxs)("div",{className:"User-logo",children:[console.log(e.user),Object(a.jsx)(Ee.a,{onClick:function(){e.history.push("/login")},style:{padding:"10px 20px",backgroundColor:"white",color:"rgb(40, 116, 240)",border:"none",fontWeight:"800",fontSize:"1.2rem"},className:"dropdown",color:"primary",children:"Login"})]})})]})})})}))),Re=s(2),Pe=s(32),Le=(s(120),function(e){return{type:W}}),Be=function(e){return{type:M,payload:e}},Fe=function(e){var t=e.comment;return Object(a.jsxs)("div",{class:"commented-section mt-4",style:{border:"1.5px solid rgb(153, 151, 151)",boxShadow:"0 0 3px -1px black",padding:"5px",borderRadius:"5px"},children:[Object(a.jsxs)("div",{class:"d-flex flex-row align-items-center commented-user",children:[Object(a.jsx)("img",{class:"img-fluid img-responsive rounded-circle mr-2",alt:"",src:t.imagelink,width:"38"}),Object(a.jsx)("h6",{class:"mr-2",children:t.name}),Object(a.jsx)("span",{class:"dot mb-1"}),Object(a.jsx)("span",{class:"mb-1 ml-2",children:new Date(t.createdAt).toLocaleString()})]}),Object(a.jsx)("div",{class:"comment-text-sm ml-5",children:Object(a.jsx)("span",{children:t.commentText})})]})},ze=Object(ue.b)((function(e){return{user:e.userState.user,socketId:e.userState.socketId,commentsArray:e.commentState.comments}}),{addComment:function(e){return function(){var t=Object(k.a)(g.a.mark((function t(s){var a,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s({type:F}),t.next=4,le()({method:"post",url:"".concat("https://ramunjan-booksapp.herokuapp.com","/comment"),data:e,headers:{Authorization:"Bearer "+sessionStorage.getItem("auth_token")}});case 4:a=t.sent,n=a.data,console.log(n),n.success?s({type:V,payload:n.comment}):alert(n.message),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0),alert(t.t0.message);case 14:return t.prev=14,s({type:F}),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[0,10,14,17]])})));return function(e){return t.apply(this,arguments)}}()},increaseComment:Be})((function(e){var t=e.user,s=e.addComment,r=e.postid,o=e.commentsArray,c=e.increaseComment,i=e.socketId,l=Object(n.useState)(""),d=Object(Pe.a)(l,2),u=d[0],p=d[1];return Object(a.jsxs)("div",{class:"coment-bottom bg-white p-2 px-4",children:[Object(a.jsxs)("div",{class:"d-flex flex-row add-comment-section mt-4 mb-4",children:[Object(a.jsx)("img",{class:"img-fluid img-responsive rounded-circle mr-2",alt:"",src:t.imagelink,width:"38"}),Object(a.jsx)("input",{value:u,onChange:function(e){p(e.target.value)},style:{height:"40px",fontSize:"18px"},type:"text",class:"form-control shadow-none mr-3",placeholder:"Add comment"}),Object(a.jsx)(Ee.a,{style:{padding:"3px 5px",color:"white",backgroundColor:"#4064AC",border:"2px solid blue",fontWeight:"800",fontSize:"1rem"},onClick:function(e){s({postId:r,commentText:u,socketId:i}),p(""),c(r)},className:"dropdown",color:"primary",children:"Comment"})]}),o?o.map((function(e){return Object(a.jsx)(Fe,{comment:e},e._id)})):Object(a.jsx)("div",{style:{position:"relative",left:"40%"},class:"lds-heart",children:Object(a.jsx)("div",{})})]})})),Ue=(s(67),s(38)),Ve=Object(ue.b)((function(e){return{currentuserId:e.userState.user._id,userLiked:e.postState,socketId:e.userState.socketId}}),{checkuserLike:function(e){return function(){var t=Object(k.a)(g.a.mark((function t(s){var a,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(e),t.next=4,le()({method:"get",url:"".concat("https://ramunjan-booksapp.herokuapp.com","/like/user"),data:e,headers:{Authorization:"Bearer "+sessionStorage.getItem("auth_token")}});case 4:a=t.sent,n=a.data,console.log(n),n.found?s({type:z,payload:{postId:e,liked:!0}}):s({type:z,payload:{postId:e.postId,liked:!1}}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0),alert(t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},addlike:function(e){return Object(k.a)(g.a.mark((function t(){var s,a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(e),t.next=4,le()({method:"post",url:"".concat("https://ramunjan-booksapp.herokuapp.com","/like"),data:e,headers:{Authorization:"Bearer "+sessionStorage.getItem("auth_token")}});case 4:s=t.sent,a=s.data,console.log(a),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0),alert(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))},removelike:function(e){return Object(k.a)(g.a.mark((function t(){var s,a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(e),t.next=4,le()({method:"delete",url:"".concat("https://ramunjan-booksapp.herokuapp.com","/like"),data:e,headers:{Authorization:"Bearer "+sessionStorage.getItem("auth_token")}});case 4:s=t.sent,a=s.data,console.log(a),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0),alert(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[0,9]])})))},getallcomments:function(e){return function(){var t=Object(k.a)(g.a.mark((function t(s){var a,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(e),s({type:U,payload:null}),s({type:F}),t.next=6,le()({method:"get",url:"".concat("https://ramunjan-booksapp.herokuapp.com","/comment/").concat(e.postId),headers:{Authorization:"Bearer "+sessionStorage.getItem("auth_token")}});case 6:a=t.sent,n=a.data,console.log(n),n.success?s({type:U,payload:n.comments}):alert(n.message),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.error(t.t0),alert(t.t0.message);case 16:return t.prev=16,s({type:F}),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[0,12,16,19]])})));return function(e){return t.apply(this,arguments)}}()}})(Object(i.g)((function(e){var t=e.post,s=e.addlike,r=e.currentuserId,o=e.removelike,c=e.socketId,i=e.getallcomments,l=e.history,d=t.userId,u=t.name,p=t.postText,b=t.likes,h=t._id,j=t.comments,m=t.bookTitle,f=t.bookId,O=t.createdAt,x=t.image,g=t.likedusers,k=Object(n.useState)({userId:"632425424625",name:"Ankit Verma",createdAt:"June 27 | 02:36",postText:"\ud83d\udd25 If you're tired of using outline styles for secondary buttons, asoft solid background based on the text color can be a greatalternative.",likes:25,postId:"fdgsfhsdvfhf",liked:!1,comments:25,bookTitle:"Three mistakes of my life",bookId:null,isliked:null,image:"https://pbs.twimg.com/profile_images/1012717264108318722/9lP-d2yM_400x400.jpg",commentState:!1}),v=Object(Pe.a)(k,2),y=v[0],w=v[1],S=function(e){y.commentState?w(Object(Re.a)(Object(Re.a)({},y),{},{commentState:!y.commentState})):(w(Object(Re.a)(Object(Re.a)({},y),{},{commentState:!y.commentState})),i({postId:y.postId}))};return Object(n.useEffect)((function(){var e,t=new Date(O).toLocaleString();e=!!g.includes(r),w({userId:d,name:u,postText:p,likes:b,postId:h,comments:j,bookTitle:m,bookId:f,createdAt:t,image:x,isliked:e})}),[d,u,p,b,h,j,m,f,O,x,r,g]),Object(a.jsxs)("div",{class:"tweet-wrap",children:[Object(a.jsxs)("div",{class:"tweet-header",children:[Object(a.jsx)("img",{src:y.image,alt:"",class:"avator"}),Object(a.jsxs)("div",{class:"tweet-header-info",children:[y.name," ",Object(a.jsx)("span",{children:y.createdAt}),Object(a.jsx)("p",{children:y.postText})]})]}),Object(a.jsxs)("div",{class:"tweet-info-counts",children:[Object(a.jsxs)("div",{class:"likes",children:[Object(a.jsx)("svg",{class:"feather feather-heart sc-dnqmqq jxshSx",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:y.isliked?"#FF0000":" none",stroke:y.isliked?"#FF0000":"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round","aria-hidden":"true","data-postid":y.postId,cursor:"pointer",onClick:function(e){w(Object(Re.a)(Object(Re.a)({},y),{},{isliked:!0,likes:y.likes+1})),y.isliked?(w(Object(Re.a)(Object(Re.a)({},y),{},{isliked:!1,likes:y.likes-1})),o({postId:e.target.dataset.postid,socketId:c})):s({postId:e.target.dataset.postid,socketId:c})},children:Object(a.jsx)("path",{"data-postid":y.postId,d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"})}),Object(a.jsx)("div",{class:"likes-count",children:y.likes})]}),Object(a.jsxs)("div",{class:"comments",children:[Object(a.jsx)("svg",{class:"feather feather-message-circle sc-dnqmqq jxshSx",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round","aria-hidden":"true",onClick:S,"data-postid":y.postId,cursor:"pointer",children:Object(a.jsx)("path",{"data-postid":y.postId,d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})}),Object(a.jsx)("div",{onClick:S,class:"comment-count",children:y.comments})]}),Object(a.jsxs)("div",{onClick:function(){var e;e=f,l.push("/bookdetail/".concat(e))},class:"likes book-icon",children:[Object(a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",class:"bi bi-book",viewBox:"0 0 16 16",children:Object(a.jsx)("path",{d:"M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811V2.828zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"})}),Object(a.jsx)(Ue.Tooltip,{title:y.bookTitle,position:"top",children:Object(a.jsx)("div",{class:"likes-count",children:Te.limitDescription(y.bookTitle,5)})})]})]}),y.commentState?Object(a.jsx)(ze,{postid:y.postId}):null]})}))),Me=(s(122),s(123),s(124),function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(e){var a;return Object(d.a)(this,s),(a=t.call(this,e)).onTextChanged=function(){var e=Object(k.a)(g.a.mark((function e(t){var s,n,r,o,c,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.target.value,a.setState((function(){return{text:s}})),n=[],!(s.length>0)){e.next=11;break}return e.next=6,le()("https://www.googleapis.com/books/v1/volumes?q=".concat(s));case 6:for(r=e.sent,o=r.data,console.log(o),c=o.items,i=0;i<3;i++)n.push({_id:c[i].id,title:c[i].volumeInfo.title});case 11:a.setState((function(){return{suggestions:n}}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={suggestions:[],text:""},a}return Object(u.a)(s,[{key:"suggestionSelected",value:function(e){this.setState((function(){return{text:e.title,suggestions:[]}})),this.props.setBookinfo(e)}},{key:"renderSuggestions",value:function(){var e=this,t=this.state.suggestions;return 0===t.length?null:Object(a.jsx)("div",{className:"srchList",children:Object(a.jsx)("ul",{className:"suggestion_ul",children:t.map((function(t){return Object(a.jsx)("li",{style:{cursor:"pointer"},onClick:function(){return e.suggestionSelected(t)},children:Te.limitDescription(t.title,35)})}))})})}},{key:"render",value:function(){var e=this.state.text;return Object(a.jsxs)("div",{className:"modalinputdiv",children:[Object(a.jsx)("input",{className:"search_input",value:e,onChange:this.onTextChanged,type:"text",placeholder:"Search"}),this.renderSuggestions()]})}}]),s}(r.a.Component)),Ge=Object(ue.b)(null,{setBookinfo:function(e){return{type:H,payload:e}}})(Me);we.a.setAppElement("#root");var We=Object(ue.b)((function(e){return{modalState:e.postState.modalState}}),{toggleModalstate:Le})((function(e){var t=e.modalState,s=e.toggleModalstate;return Object(a.jsxs)(we.a,{onRequestClose:s,style:{overlay:{backgroundColor:"rgb(21, 32, 43,0.8)"},content:{position:"absolute",top:"100px",left:"60px",right:"60px",bottom:"100px",border:"1px solid #ccc",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",padding:"20px"}},isOpen:t,children:[Object(a.jsx)("h2",{className:"h2",children:"Choose Book"}),Object(a.jsx)(Ge,{}),Object(a.jsx)("button",{className:"postButton",onClick:function(){s()},children:"Add Book"})]})})),He=Object(ue.b)((function(e){return{bookInfo:e.postState.bookInfo}}),{toggleModalstate:Le,createPost:function(e){return function(){var t=Object(k.a)(g.a.mark((function t(s){var a,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s({type:B}),t.next=4,le.a.post("".concat("https://ramunjan-booksapp.herokuapp.com","/post"),e,{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("auth_token"))}});case 4:a=t.sent,n=a.data,console.log(n),n.success?(s({type:q,payload:n.post}),s({type:H,payload:null})):alert(n.message),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0),alert(t.t0.message);case 14:return t.prev=14,s({type:B}),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[0,10,14,17]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.toggleModalstate,s=e.bookInfo,r=e.createPost,o=Object(n.useState)(""),c=Object(Pe.a)(o,2),i=c[0],l=c[1],d=function(){t()};return Object(a.jsxs)("div",{class:"contentContainer",children:[Object(a.jsx)(We,{}),Object(a.jsxs)("div",{class:"boxContainer",children:[Object(a.jsx)("textarea",{value:i,onChange:function(e){l(e.target.value)},className:"messageBox",id:"postMessage",placeholder:"What are you reading today?",style:{color:"black"}}),Object(a.jsxs)("div",{className:"button-both",children:[s?Object(a.jsxs)("div",{onClick:d,style:{marginRight:"6px"},class:"likes book-icon",children:[Object(a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",class:"bi bi-book",viewBox:"0 0 16 16",style:{marginRight:"5px"},children:Object(a.jsx)("path",{d:"M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811V2.828zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"})}),Object(a.jsx)(Ue.Tooltip,{title:s.title,position:"top",children:Object(a.jsx)("div",{class:"likes-count",children:Te.limitDescription(s.title,15)})})]}):Object(a.jsx)(Ue.Tooltip,{title:"Please add the book to which this post is inspired!",position:"top",children:Object(a.jsx)("button",{onClick:d,type:"button",class:"bookButton",id:"submitPost",children:"Choose Book"})}),Object(a.jsx)("button",{onClick:function(){if(s)if(i.length<=3)alert("Post must contaiin more than 3 letters!");else{var e={postText:i,bookId:s._id,bookTitle:s.title};r(e),l("")}else alert("Please choose book first!")},type:"button",class:"postButton",id:"submitPost",children:"Post"})]})]})]})})),qe=(s(125),s(73)),Ke=s.n(qe),Ye=Object(ue.b)((function(e){return{posts:e.postState.posts,user:e.userState.user,responsefetching:e.postState.isPostfetching}}),{getallPosts:function(e){return function(){var t=Object(k.a)(g.a.mark((function t(s){var a,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s({type:B}),s({type:L,payload:null}),t.next=5,le.a.get("".concat("https://ramunjan-booksapp.herokuapp.com","/post"),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("auth_token"))}});case 5:a=t.sent,(n=a.data).success?s({type:L,payload:n.posts}):e.push("/login"),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0),alert(t.t0.message);case 14:return t.prev=14,s({type:B}),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[0,10,14,17]])})));return function(e){return t.apply(this,arguments)}}()},setSocketId:function(e){return{type:w,payload:e}},increaseLike:function(e){return{type:S,payload:e}},decreaseLike:function(e){return{type:G,payload:e}},increaseComment:Be})((function(e){var t=e.user,s=e.getallPosts,r=e.posts,o=e.setSocketId,c=e.increaseLike,l=e.decreaseLike,d=e.increaseComment,u=e.history;e.responsefetching;return Object(n.useEffect)((function(){s(u);var e,t=new Ke.a("e3ab71c8d2aaa34fa73e",{cluster:"ap2",encrypted:!0});t.connection.bind("connected",(function(){e=t.connection.socket_id,o(e)})),t.subscribe("post-events").bind("postAction",(function(e){console.log(e);var t=e.action;"like"===t?c(e.postId):"unlike"===t?l(e.postId):"comment"===t&&d(e.postId)}))}),[s,o,c,l,d]),t?Object(a.jsx)("div",{style:{width:"100%",padding:"0px 15px",height:"87vh",overflow:"auto",display:"flex",justifyContent:"center"},className:"row",children:Object(a.jsxs)("div",{className:"posts-section col-lg-6 col-md-8 col-sm-10",children:[Object(a.jsx)(He,{}),r?r.map((function(e){return Object(a.jsx)(Ve,{post:e},r._id)})):null]})}):Object(a.jsx)(i.a,{to:"/"})})),$e=(s(126),function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(){var e;Object(d.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={bookinfo:""},e}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=Object(k.a)(g.a.mark((function e(){var t,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le()("https://www.googleapis.com/books/v1/volumes/".concat(this.props.match.params.id));case 2:t=e.sent,s=t.data,this.setState({bookinfo:s.volumeInfo});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.props.user?Object(a.jsx)("div",{className:"bookdetailstyle",children:Object(a.jsxs)("div",{className:"bookdetailindi",children:[Object(a.jsx)("div",{className:"booktitle",children:this.state.bookinfo.title}),Object(a.jsx)("div",{children:this.state.bookinfo.imageLinks?Object(a.jsx)("img",{className:"bookimage",src:this.state.bookinfo.imageLinks.thumbnail,alt:"bookimage",width:"300",height:"300"}):""}),Object(a.jsx)("div",{className:"bookinfotable",children:Object(a.jsxs)("table",{style:{width:"100%"},children:[Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsx)("b",{children:"Author :"})}),Object(a.jsx)("td",{children:this.state.bookinfo.authors?this.state.bookinfo.authors.map((function(e){return Object(a.jsx)("span",{children:e},Object(Se.a)())})):"anonymous"})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsx)("b",{children:"Publisher :"})}),Object(a.jsx)("td",{children:this.state.bookinfo.publisher?this.state.bookinfo.publisher:"unknown"})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsx)("b",{children:"Published Date :"})}),Object(a.jsx)("td",{children:this.state.bookinfo.publishedDater?this.state.bookinfo.publishedDater:"unknown"})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsx)("b",{children:"Description :"})}),Object(a.jsx)("td",{children:this.state.bookinfo.description?this.state.bookinfo.description:"unknown"})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsx)("b",{children:"Pages :"})}),Object(a.jsx)("td",{children:this.state.bookinfo.pageCount?this.state.bookinfo.pageCount:"unknown"})]}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsx)("b",{children:"Rating :"})}),Object(a.jsx)("td",{children:this.state.bookinfo.averageRating?this.state.bookinfo.averageRating:"unknown"})]})]})})]})}):Object(a.jsx)(i.a,{to:"/"})}}]),s}(n.Component)),Je=Object(ue.b)((function(e){return{user:e.userState.user}}))($e),Ze=s(74),Qe=s.n(Ze),Xe=(s(127),function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(){var e;Object(d.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).handleProfile=function(t){e.props.history.push("/userprofile/".concat(t))},e.handleLibrary=function(t){e.props.history.push("/userlibrary/".concat(t))},e.handledeactivate=function(t){e.props.deactivateuser(t,window)},e.handleactivate=function(t){e.props.activateuser(t,window)},e}return Object(u.a)(s,[{key:"componentDidMount",value:function(){this.props.getAllusers(this.props.history)}},{key:"render",value:function(){var e=this;return this.props.user?Object(a.jsx)("div",{className:"socialbody",children:Object(a.jsx)("div",{className:"containeri",children:this.props.users?this.props.users.map((function(t){return Object(a.jsx)(Qe.a,{options:{max:45,speed:400,glare:!0,"max-glare":1},children:Object(a.jsx)("div",{className:"cardi",children:Object(a.jsxs)("div",{className:"contenti",children:[Object(a.jsx)("img",{src:t.imagelink,alt:"",width:"100",height:"100",className:"socialimage"}),Object(a.jsx)("h3",{children:t.name}),Object(a.jsx)("p",{children:t.email}),Object(a.jsxs)("div",{className:"userdetailbuttons",children:[Object(a.jsx)("button",{onClick:function(){return e.handleProfile(t._id)},className:"sociobutton",children:"Profile"}),Object(a.jsx)("button",{onClick:function(){return e.handleLibrary(t._id)},className:"sociobutton",children:"Library"}),e.props.user.role.includes(2)?"true"===t.isActive?Object(a.jsx)("button",{onClick:function(){return e.handledeactivate(t._id)},children:"Deactivate"}):Object(a.jsx)("button",{onClick:function(){return e.handleactivate(t._id)},children:"Activate"}):null]})]})})})})):Object(a.jsx)("h3",{children:"Loading..."})})}):Object(a.jsx)(i.a,{to:"/"})}}]),s}(n.Component)),et=Object(ue.b)((function(e){return{user:e.userState.user,isuserFetching:e.userState.isuserFetching,users:e.userState.allusers}}),{getAllusers:function(e){return function(){var t=Object(k.a)(g.a.mark((function t(s){var a,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s({type:ne,payload:null}),s({type:N}),t.next=5,le()("".concat("https://ramunjan-booksapp.herokuapp.com","/user/all"),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("auth_token"))}});case 5:a=t.sent,(n=a.data).success?s({type:ne,payload:n.users}):(alert(n.error.message),e.push("/login")),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),alert(t.t0.message);case 13:return t.prev=13,s({type:N}),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,10,13,16]])})));return function(e){return t.apply(this,arguments)}}()},deactivateuser:function(e,t){return function(){var s=Object(k.a)(g.a.mark((function s(a){var n,r;return g.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,a({type:N}),s.next=4,le.a.put("".concat("https://ramunjan-booksapp.herokuapp.com","/user/deactivate"),{userId:e},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("auth_token"))}});case 4:n=s.sent,(r=n.data).success?(alert(r.message),t.location.reload()):alert(r.error.message),s.next=13;break;case 9:s.prev=9,s.t0=s.catch(0),console.error(s.t0),alert(s.t0.message);case 13:return s.prev=13,a({type:N}),s.finish(13);case 16:case"end":return s.stop()}}),s,null,[[0,9,13,16]])})));return function(e){return s.apply(this,arguments)}}()},activateuser:function(e,t){return function(){var s=Object(k.a)(g.a.mark((function s(a){var n,r;return g.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,a({type:N}),s.next=4,le.a.put("".concat("https://ramunjan-booksapp.herokuapp.com","/user/activate"),{userId:e},{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("auth_token"))}});case 4:n=s.sent,(r=n.data).success?(alert(r.message),t.location.reload()):alert(r.error.message),s.next=13;break;case 9:s.prev=9,s.t0=s.catch(0),console.error(s.t0),alert(s.t0.message);case 13:return s.prev=13,a({type:N}),s.finish(13);case 16:case"end":return s.stop()}}),s,null,[[0,9,13,16]])})));return function(e){return s.apply(this,arguments)}}()}})(Xe),tt=function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(){var e;Object(d.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).handleBookdetail=function(t){e.props.history.push("/bookdetail/".concat(t))},e}return Object(u.a)(s,[{key:"componentDidMount",value:function(){this.props.getuserLibrary(this.props.match.params.id)}},{key:"render",value:function(){var e=this;return this.props.user?Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"alltasks",children:[Object(a.jsxs)("div",{className:"inditask reading",children:[Object(a.jsx)("span",{className:"library-heading",children:"ALREADY READ"}),this.props.readbooks?this.props.readbooks.map((function(t){return Object(a.jsxs)("div",{className:"planned",children:[Object(a.jsx)("div",{className:"bkimg",children:t.image?Object(a.jsx)("img",{src:t.image,alt:"bookimage",className:"buk"}):Object(a.jsx)("img",{src:Ne,alt:"unknowimg",className:"buk"})}),Object(a.jsx)("div",{className:"bkimg bkt",children:t.title}),Object(a.jsx)("div",{className:"bkimg",children:Object(a.jsx)("button",{onClick:function(){return e.handleBookdetail(t.bookId)},className:"bookbtn bkvbtn",children:"View Book"})})]},Object(Se.a)())})):""]}),Object(a.jsxs)("div",{className:"inditask reading",children:[Object(a.jsx)("span",{className:"library-heading",children:"CURRENTLY READING"}),this.props.readingbooks?this.props.readingbooks.map((function(t){return Object(a.jsxs)("div",{className:"planned",children:[Object(a.jsx)("div",{className:"bkimg",children:t.image?Object(a.jsx)("img",{src:t.image,alt:"bookimage",className:"buk"}):Object(a.jsx)("img",{src:Ne,alt:"unknowimg",className:"buk"})}),Object(a.jsx)("div",{className:"bkimg bkt",children:t.title}),Object(a.jsx)("div",{className:"bkimg",children:Object(a.jsx)("button",{onClick:function(){return e.handleBookdetail(t.bookId)},className:"bookbtn bkvbtn",children:"View Book"})})]},Object(Se.a)())})):""]}),Object(a.jsxs)("div",{className:"inditask reading",children:[Object(a.jsx)("span",{className:"library-heading",children:"WANT TO READ"}),this.props.willreadbooks?this.props.willreadbooks.map((function(t){return Object(a.jsxs)("div",{className:"planned",children:[Object(a.jsx)("div",{className:"bkimg",children:t.image?Object(a.jsx)("img",{src:t.image,alt:"bookimage",className:"buk"}):Object(a.jsx)("img",{src:Ne,alt:"unknowimg",className:"buk"})}),Object(a.jsx)("div",{className:"bkimg bkt",children:t.title}),Object(a.jsx)("div",{className:"bkimg",children:Object(a.jsx)("button",{onClick:function(){return e.handleBookdetail(t.bookId)},className:"bookbtn bkvbtn",children:"View Book"})})]},Object(Se.a)())})):""]})]})}):Object(a.jsx)(i.a,{to:"/"})}}]),s}(n.Component),st=Object(ue.b)((function(e){return{user:e.userState.user,readbooks:e.libraryState.readbooks,readingbooks:e.libraryState.readingbooks,willreadbooks:e.libraryState.willreadbooks,responseFetchingState:e.libraryState.isbookAdding}}),{getuserLibrary:function(e){return function(){var t=Object(k.a)(g.a.mark((function t(s){var a,n,r,o,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("Ia m ri"),s({type:ae}),s({type:se}),t.next=6,le()("".concat("https://ramunjan-booksapp.herokuapp.com","/library/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("auth_token"))}});case 6:a=t.sent,n=a.data,console.log(n),r=Object(ve.a)(n.collection);try{for(r.s();!(o=r.n()).done;)1===(c=o.value).collectionId?s({type:$,payload:c}):2===c.collectionId?s({type:J,payload:c}):3===c.collectionId&&s({type:Z,payload:c})}catch(i){r.e(i)}finally{r.f()}t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.error(t.t0);case 16:return t.prev=16,s({type:se}),t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[0,13,16,19]])})));return function(e){return t.apply(this,arguments)}}()}})(tt),at=function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(){return Object(d.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"componentDidMount",value:function(){this.props.fetchuserProfile(this.props.match.params.id)}},{key:"render",value:function(){return this.props.userforredirect?this.props.user?Object(a.jsx)("div",{style:{width:"80%"},children:Object(a.jsx)("div",{style:{marginTop:"40px"},className:"form-boxmain",children:Object(a.jsx)("form",{onSubmit:this.handleSubmit,className:"form-container",children:Object(a.jsx)(h.a,{children:Object(a.jsxs)("table",{style:{width:"100%"},children:[this.props.responseFetchingState?Object(a.jsx)("div",{style:{position:"absolute",top:"40%",left:"45%"},className:"lds-dual-ring"}):null,Object(a.jsx)("div",{children:Object(a.jsx)("span",{children:"Profile"})}),Object(a.jsx)(j.a,{children:Object(a.jsx)(m.a,{children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"img-holder",children:Object(a.jsx)("img",{src:this.props.user.imagelink,alt:"",id:"img",className:"img"})})})})}),Object(a.jsx)(j.a,{children:Object(a.jsx)(m.a,{children:Object(a.jsx)("tr",{children:Object(a.jsx)("span",{className:"profile-edit",children:Object(a.jsxs)("div",{className:"profile-block",children:[Object(a.jsxs)("td",{children:[" ",Object(a.jsx)("div",{className:"profile-line",children:"Name : "})]}),Object(a.jsx)("td",{children:Object(a.jsx)("div",{className:"profile-line1",children:this.props.user.name})})]})})})})}),Object(a.jsx)(j.a,{children:Object(a.jsx)(m.a,{children:Object(a.jsx)("tr",{children:Object(a.jsx)("span",{className:"profile-edit",children:Object(a.jsxs)("div",{className:"profile-block",children:[Object(a.jsxs)("td",{children:[" ",Object(a.jsx)("div",{className:"profile-line",children:"Email : "})]}),Object(a.jsx)("td",{children:Object(a.jsx)("div",{className:"profile-line1",children:this.props.user.email})})]})})})})}),Object(a.jsx)(j.a,{children:Object(a.jsx)(m.a,{children:Object(a.jsx)("tr",{children:Object(a.jsx)("span",{className:"profile-edit",children:Object(a.jsxs)("div",{className:"profile-block",children:[Object(a.jsx)("td",{children:Object(a.jsx)("div",{className:"profile-line",children:"Gender : "})}),Object(a.jsx)("td",{children:Object(a.jsx)("div",{className:"profile-line1",children:this.props.user.gender})})]})})})})}),Object(a.jsx)(j.a,{children:Object(a.jsx)(m.a,{children:Object(a.jsx)("tr",{children:Object(a.jsx)("div",{className:"profile-edit",children:Object(a.jsxs)("div",{className:"profile-block",children:[Object(a.jsx)("td",{children:Object(a.jsx)("div",{className:"profile-line",children:"Bio : "})}),Object(a.jsx)("td",{children:Object(a.jsx)("div",{className:"profile-line1",children:this.props.user.bio})})]})})})})})]})})})})}):Object(a.jsx)("h2",{children:"Loading..."}):Object(a.jsx)(i.a,{to:"/"})}}]),s}(n.Component),nt=Object(ue.b)((function(e){return{userforredirect:e.userState.user,user:e.userState.userProfile}}),{fetchuserProfile:function(e){return function(){var t=Object(k.a)(g.a.mark((function t(s){var a,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s({type:re,payload:null}),s({type:N}),t.next=5,le()("".concat("https://ramunjan-booksapp.herokuapp.com","/user/").concat(e),{headers:{Authorization:"Bearer ".concat(sessionStorage.getItem("auth_token"))}});case 5:a=t.sent,(n=a.data).success?s({type:re,payload:n.user}):alert(n.error.message),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),alert(t.t0.message);case 13:return t.prev=13,s({type:N}),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,10,13,16]])})));return function(e){return t.apply(this,arguments)}}()}})(at),rt=function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(){var e;Object(d.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={email:""},e.handleValue=function(t){e.setState({email:t.target.value})},e.handleregisterSubmit=function(t){e.props.sendresetpasswordRequest(e.state.email),e.setState({email:""})},e}return Object(u.a)(s,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"forgotcontainer",children:Object(a.jsx)(h.a,{children:Object(a.jsx)(j.a,{children:Object(a.jsxs)(m.a,{children:[this.props.isresfetching?Object(a.jsx)("div",{style:{position:"absolute",top:"30%",left:"45%",zIndex:"1"},className:"lds-dual-ring"}):null,Object(a.jsxs)("div",{className:"form-elements fori",children:[Object(a.jsxs)("label",{htmlFor:"email",style:{color:"white"},children:["Email :"," "]}),Object(a.jsx)("input",{type:"email",name:"email",onChange:this.handleValue,value:this.state.email,className:"form-inputs1",placeholder:"PLEASE ENTER THE REGISTERED EMAIL TO CHANGE PASSWORD"}),this.props.response?Object(a.jsx)("p",{style:{color:"white"},children:this.props.response.message}):null,Object(a.jsx)("button",{onClick:this.handleregisterSubmit,className:"form-button1",children:"Submit"})]})]})})})})}}]),s}(n.Component),ot=Object(ue.b)((function(e){return{response:e.userState.resetPasswordres,isresfetching:e.userState.isuserFetching}}),{sendresetpasswordRequest:function(e){return function(){var t=Object(k.a)(g.a.mark((function t(s){var a,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s({type:N}),s({type:oe,payload:null}),t.next=5,le.a.post("".concat("https://ramunjan-booksapp.herokuapp.com","/user/resetpassword"),{email:e});case 5:a=t.sent,(n=a.data).success?s({type:oe,payload:{message:n.message}}):s({type:oe,payload:{message:n.error.message}}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),alert(t.t0.message);case 13:return t.prev=13,s({type:N}),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,10,13,16]])})));return function(e){return t.apply(this,arguments)}}()}})(rt),ct=function(e){Object(p.a)(s,e);var t=Object(b.a)(s);function s(){var e;Object(d.a)(this,s);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={password:"",checkpassword:!1},e.handleValue=function(t){e.setState(Object(l.a)({},t.target.name,t.target.value))},e.handlepasswordSubmit=function(t){e.setState({checkpassword:e.CheckPasswordfunc(e.state.password)}),e.CheckPasswordfunc(e.state.password)||e.props.updatePassword({token:e.props.match.params.token,password:e.state.password})},e.CheckPasswordfunc=function(e){return!e.match(/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{6,16}$/)},e}return Object(u.a)(s,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"forgotcontainer",children:Object(a.jsx)(h.a,{children:Object(a.jsx)(j.a,{children:Object(a.jsxs)(m.a,{children:[this.props.isresfetching?Object(a.jsx)("div",{style:{position:"absolute",top:"30%",left:"45%",zIndex:"1"},className:"lds-dual-ring"}):null,Object(a.jsxs)("div",{className:"form-elements fori",children:[Object(a.jsxs)("label",{htmlFor:"password",style:{color:"white"},children:["Password :"," "]}),Object(a.jsx)("input",{type:"password",name:"password",onChange:this.handleValue,value:this.state.password,className:"form-inputs1",placeholder:"PLEASE ENTER THE NEW PASSWORD"}),this.state.checkpassword?Object(a.jsx)("p",{className:"form-alert1",children:"Password must contain minimum eight characters, at least one letter, one number and one special character!"}):null,this.props.response?Object(a.jsx)("p",{style:{color:"white"},children:this.props.response.message}):null,Object(a.jsx)("button",{onClick:this.handlepasswordSubmit,className:"form-button1",children:"Submit"})]})]})})})})}}]),s}(n.Component),it=Object(ue.b)((function(e){return{response:e.userState.updatePasswordres,isresfetching:e.userState.isuserFetching}}),{updatePassword:function(e){return function(){var t=Object(k.a)(g.a.mark((function t(s){var a,n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("fornt"),s({type:N}),s({type:ce,payload:null}),t.next=6,le.a.put("".concat("https://ramunjan-booksapp.herokuapp.com","/user/updatepassword"),e);case 6:a=t.sent,(n=a.data).success?s({type:ce,payload:{message:n.message}}):s({type:ce,payload:{message:n.error.message}}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),alert(t.t0.message);case 14:return t.prev=14,s({type:N}),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[0,11,14,17]])})));return function(e){return t.apply(this,arguments)}}()}})(ct);we.a.setAppElement("#root");var lt=function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)("div",{style:{width:"100%"},children:Object(a.jsx)(De,{})}),Object(a.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%"},children:Object(a.jsxs)(i.d,{children:[Object(a.jsx)(i.b,{exact:!0,path:"/login",component:be}),Object(a.jsx)(i.b,{exact:!0,path:"/register",component:je}),Object(a.jsx)(i.b,{exact:!0,path:"/",component:Oe}),Object(a.jsx)(i.b,{exact:!0,path:"/profile",component:ke}),Object(a.jsx)(i.b,{exact:!0,path:"/library",component:Ce}),Object(a.jsx)(i.b,{exact:!0,path:"/home",component:Ye}),Object(a.jsx)(i.b,{exact:!0,path:"/social",component:et}),Object(a.jsx)(i.b,{exact:!0,path:"/forgot",component:ot}),Object(a.jsx)(i.b,{exact:!0,path:"/resetpassword/:token",component:it}),Object(a.jsx)(i.b,{exact:!0,path:"/bookdetail/:id",component:Je}),Object(a.jsx)(i.b,{exact:!0,path:"/userlibrary/:id",component:st}),Object(a.jsx)(i.b,{exact:!0,path:"/userprofile/:id",component:nt}),Object(a.jsx)(i.a,{to:"/home"})]})})]})},dt=(s(128),s(27)),ut=s(75),pt=s(76),bt={user:JSON.parse(sessionStorage.getItem("user"))||null,allusers:null,userDetail:null,userProfile:null,isuserFetching:!1,userResponse:null,isResponseFetching:!1,isDPresonsefetching:!1,isUpdateresponsefetching:!1,dpresponse:null,updateResponse:null,socketId:null,resetPasswordres:null,updatePasswordres:null},ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,t=arguments.length>1?arguments[1]:void 0,s=t.type,a=t.payload;switch(s){case v:var n=JSON.stringify(a);return sessionStorage.setItem("user",n),Object(Re.a)(Object(Re.a)({},e),{},{user:a});case y:return Object(Re.a)(Object(Re.a)({},e),{},{user:Object(Re.a)(Object(Re.a)({},e.user),{},{imagelink:a})});case _:return Object(Re.a)(Object(Re.a)({},e),{},{userDetail:a});case w:return Object(Re.a)(Object(Re.a)({},e),{},{socketId:a});case ne:return Object(Re.a)(Object(Re.a)({},e),{},{allusers:a});case ce:return Object(Re.a)(Object(Re.a)({},e),{},{updatePasswordres:a});case oe:return Object(Re.a)(Object(Re.a)({},e),{},{resetPasswordres:a});case re:return Object(Re.a)(Object(Re.a)({},e),{},{userProfile:a});case A:return sessionStorage.setItem("auth_token",a),e;case N:return Object(Re.a)(Object(Re.a)({},e),{},{isuserFetching:!e.isuserFetching});case I:return sessionStorage.removeItem("user"),sessionStorage.removeItem("auth_token"),Object(Re.a)(Object(Re.a)({},e),{},{user:null,userDetail:null,userResponse:null});case E:return Object(Re.a)(Object(Re.a)({},e),{},{isResponseFetching:!e.isResponseFetching});case C:return Object(Re.a)(Object(Re.a)({},e),{},{userResponse:a});case P:return Object(Re.a)(Object(Re.a)({},e),{},{updateResponse:a});case R:return Object(Re.a)(Object(Re.a)({},e),{},{dpresponse:a});case D:return Object(Re.a)(Object(Re.a)({},e),{},{isUpdateresponsefetching:!e.isUpdateresponsefetching});case T:return Object(Re.a)(Object(Re.a)({},e),{},{isDPresonsefetching:!e.isDPresonsefetching});default:return e}},jt=s(26),mt={posts:null,isPostfetching:!1,isPostliked:[],modalState:!1,bookInfo:null},ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,t=arguments.length>1?arguments[1]:void 0,s=t.type,a=t.payload;switch(s){case L:return Object(Re.a)(Object(Re.a)({},e),{},{posts:a});case q:return Object(Re.a)(Object(Re.a)({},e),{},{posts:[a].concat(Object(jt.a)(e.posts))});case H:return Object(Re.a)(Object(Re.a)({},e),{},{bookInfo:a});case B:return Object(Re.a)(Object(Re.a)({},e),{},{isPostfetching:!e.isPostfetching});case W:return Object(Re.a)(Object(Re.a)({},e),{},{modalState:!e.modalState});case z:return Object(Re.a)(Object(Re.a)({},e),{},{isPostliked:[].concat(Object(jt.a)(e.isPostliked),[a])});case S:return Object(Re.a)(Object(Re.a)({},e),{},{posts:e.posts.map((function(e){return e._id===a?Object(Re.a)(Object(Re.a)({},e),{},{likes:e.likes+1}):e}))});case G:return Object(Re.a)(Object(Re.a)({},e),{},{posts:e.posts.map((function(e){return e._id===a?Object(Re.a)(Object(Re.a)({},e),{},{likes:e.likes-1}):e}))});case M:return Object(Re.a)(Object(Re.a)({},e),{},{posts:e.posts.map((function(e){return e._id===a?Object(Re.a)(Object(Re.a)({},e),{},{comments:e.comments+1}):e}))});default:return e}},Ot={comments:null,isCommentfetching:!1},xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0,s=t.type,a=t.payload;switch(s){case U:return Object(Re.a)(Object(Re.a)({},e),{},{comments:a});case V:return Object(Re.a)(Object(Re.a)({},e),{},{comments:[a].concat(Object(jt.a)(e.comments))});case F:return Object(Re.a)(Object(Re.a)({},e),{},{isCommentfetching:!e.isCommentfetching});default:return e}},gt={isbookAdding:!1,booksinfo:[],bookstitle:null,readbooks:[],readingbooks:[],willreadbooks:[]},kt=Object(dt.combineReducers)({userState:ht,postState:ft,commentState:xt,libraryState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0,s=t.type,a=t.payload;switch(s){case K:return Object(Re.a)(Object(Re.a)({},e),e.booksinfo.push(a));case ae:return Object(Re.a)(Object(Re.a)({},e),{},{readbooks:[],readingbooks:[],willreadbooks:[]});case se:return Object(Re.a)(Object(Re.a)({},e),{},{isbookAdding:!e.isbookAdding});case Y:return Object(Re.a)(Object(Re.a)({},e),{},{bookstitle:a});case $:return Object(Re.a)(Object(Re.a)({},e),{},{readbooks:[].concat(Object(jt.a)(e.readbooks),[a])});case J:return Object(Re.a)(Object(Re.a)({},e),{},{readingbooks:[].concat(Object(jt.a)(e.readingbooks),[a])});case Z:return Object(Re.a)(Object(Re.a)({},e),{},{willreadbooks:[].concat(Object(jt.a)(e.willreadbooks),[a])});case X:console.log(a);var n=e.readbooks.filter((function(e){return e.bookId!==a}));return console.log(n),Object(Re.a)(Object(Re.a)({},e),{},{readbooks:n});case ee:var r=e.readingbooks.filter((function(e){return e.bookId!==a}));return console.log(r),Object(Re.a)(Object(Re.a)({},e),{},{readingbooks:r});case te:var o=e.willreadbooks.filter((function(e){return e.bookId!==a}));return console.log(o),Object(Re.a)(Object(Re.a)({},e),{},{willreadbooks:o});case Q:return Object(Re.a)(Object(Re.a)({},e),{},{booksinfo:[]});default:return e}}}),vt=Object(dt.createStore)(kt,Object(ut.composeWithDevTools)(Object(dt.applyMiddleware)(pt.a)));c.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(O.a,{children:Object(a.jsx)(ue.a,{store:vt,children:Object(a.jsx)(lt,{})})})}),document.getElementById("root"))},55:function(e,t,s){},82:function(e,t,s){},83:function(e,t,s){}},[[129,1,2]]]);
//# sourceMappingURL=main.bab8746f.chunk.js.map